<div class="page-container">
	<md-spinner *ngIf="loading"></md-spinner>

	<md-card *ngFor="let entry of entries" class="entry">
		<div class="header">
			<span class="date">{{ entry.date | date }}</span>
			<div class="image-wrapper">
				<hl-user-image [user]="entry.author"></hl-user-image>
				<span class="author">{{ entry.author.name }}</span>
			</div>
		</div>
		<div *ngIf="entry.status == 'pending'">
			<md-spinner></md-spinner>
			<small>Processing</small>
		</div>

		<div *ngIf="entry.data.length">
			<h3>Findings</h3>

			<ul class="finding-list">
				<li class="finding" *ngFor="let item of entry.data">
					<md-icon svgSrc="/assets/images/{{ item.status }}.svg"></md-icon>
					<div>
						<p>{{ item.text }}</p>
						<!--<a class="standard-link" href="{{ item.link }}" *ngIf="item.icd10">{{ item.icd10.id }}</a>-->
					</div>

				</li>
			</ul>

			<p [innerHTML]="getFormattedText(entry)"></p>
		</div>

		<button md-button *ngIf="entry.status == 'done'">More details</button>
	</md-card>
</div>
